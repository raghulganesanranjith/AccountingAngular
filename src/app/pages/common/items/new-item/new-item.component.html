<div class="item-container">
  <!-- Header -->
  <div class="item-header">
    <div class="header-top">
      <h1>New Item Entry</h1>
      <span class="status-badge">Draft</span>
    </div>
  </div>

  <!-- Main Form -->
  <div class="item-form">
    <!-- Avatar & Basic Info Row -->
    <div class="form-section-top">
      <div class="avatar-section">
        <div class="avatar-placeholder">
          <img *ngIf="avatarPreview" [src]="avatarPreview" alt="Avatar" class="avatar-image">
          <svg *ngIf="!avatarPreview" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <circle cx="8.5" cy="8.5" r="1.5"></circle>
            <polyline points="21 15 16 10 5 21"></polyline>
          </svg>
        </div>
        <div class="avatar-controls">
          <label class="btn-upload">
            <input type="file" accept="image/*" (change)="onAvatarChange($event)" class="file-input" hidden>
            üìÅ Upload
          </label>
          <button *ngIf="avatarPreview" class="btn-remove" (click)="removeAvatar()">üóëÔ∏è Remove</button>
        </div>
      </div>

      <div class="basic-info">
        <div class="form-group">
          <label>Item Name <span class="required">*</span></label>
          <input type="text" [(ngModel)]="item.name" class="form-input" placeholder="Item Name">
        </div>

        <div class="form-group">
          <label>SKU <span class="required">*</span></label>
          <input type="text" [(ngModel)]="item.sku" class="form-input" placeholder="Stock Keeping Unit">
          <span class="item-code-hint">Unique SKU code</span>
        </div>
      </div>
    </div>

    <!-- Category & Type Row -->
    <div class="form-row">
      <div class="form-group">
        <label>Category</label>
        <select [(ngModel)]="item.category" class="form-input">
          <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>Type</label>
        <select [(ngModel)]="item.type" class="form-input">
          <option *ngFor="let type of types" [value]="type">{{ type }}</option>
        </select>
      </div>
    </div>

    <!-- Details Section -->
    <div class="details-section">
      <div class="section-header">
        <h2>Details</h2>
        <span class="collapse-icon">‚åÑ</span>
      </div>

      <div class="section-content">
        <div class="form-row">
          <div class="form-group">
            <label>Unit</label>
            <select [(ngModel)]="item.unit" class="form-input">
              <option *ngFor="let unit of units" [value]="unit">{{ unit }}</option>
            </select>
          </div>

          <div class="form-group">
            <label>Price (‚Çπ)</label>
            <input type="number" [(ngModel)]="item.price" class="form-input" placeholder="Enter price">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Tax Rate (%)</label>
            <select [(ngModel)]="item.tax" class="form-input">
              <option *ngFor="let taxRate of taxRates" [value]="taxRate">{{ taxRate }}%</option>
            </select>
          </div>

          <div class="form-group">
            <label>HSN Code</label>
            <input type="text" [(ngModel)]="item.hsn" class="form-input" placeholder="HSN Code">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group full-width">
            <label>Description</label>
            <textarea [(ngModel)]="item.description" class="form-textarea" placeholder="Item Description" rows="3"></textarea>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="form-actions">
      <button class="btn btn-secondary" (click)="goBackToItems()">Back to Items</button>
      <button class="btn btn-tertiary" (click)="discardItem()">Discard</button>
      <button class="btn btn-primary" (click)="submitItem()" [disabled]="loading">
        {{ loading ? 'Saving...' : 'Save & Submit' }}
      </button>
    </div>
  </div>
</div>
